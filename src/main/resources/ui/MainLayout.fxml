<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="organization.ui.MainController"
            prefWidth="1450"
            prefHeight="750">

    <!-- ===== LEWA STRONA ===== -->
    <left>
        <VBox spacing="10" prefWidth="350">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <Button fx:id="addButton"
                    text="➕ Nowy klient"
                    maxWidth="Infinity"/>

            <TextField fx:id="searchField"
                       promptText="Szukaj klienta..." />

            <TableView fx:id="clientsTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="nameColumn" text="Klient" prefWidth="200"/>
                    <TableColumn fx:id="phoneColumn" text="Telefon" prefWidth="130"/>
                </columns>
            </TableView>

            <Button fx:id="refreshButton"
                    text="⟳ Odśwież listę"
                    maxWidth="Infinity"/>
        </VBox>
    </left>

    <!-- ===== ŚRODEK ===== -->
    <center>

        <SplitPane orientation="VERTICAL" dividerPositions="0.65">

            <!-- ===== GÓRA (formularz + przyciski) ===== -->
            <ScrollPane fitToWidth="true">
                <VBox spacing="12">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>

                    <Label text="Dane klienta"
                           style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

                    <HBox spacing="30">

                        <!-- LEWA: FORMULARZ -->
                        <VBox spacing="12">

                            <GridPane hgap="10" vgap="10">

                                <Label text="Typ klienta"/>
                                <ComboBox fx:id="typeComboBox" GridPane.columnIndex="1"/>

                                <Label text="Imię" GridPane.rowIndex="1"/>
                                <TextField fx:id="firstNameField" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                                <Label text="Nazwisko" GridPane.rowIndex="2"/>
                                <TextField fx:id="lastNameField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                                <Label fx:id="companyLabel" text="Nazwa firmy" GridPane.rowIndex="3"/>
                                <TextField fx:id="companyField" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                                <Label fx:id="nipLabel" text="NIP" GridPane.rowIndex="4"/>
                                <TextField fx:id="nipField" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                                <Label text="Adres" GridPane.rowIndex="5"/>
                                <TextField fx:id="addressField" GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                                <Label text="Telefon" GridPane.rowIndex="6"/>
                                <TextField fx:id="phoneField" GridPane.rowIndex="6" GridPane.columnIndex="1"/>

                                <Label text="Nr dowodu" GridPane.rowIndex="7"/>
                                <TextField fx:id="idNumberField" GridPane.rowIndex="7" GridPane.columnIndex="1"/>

                                <Label text="Wydany przez" GridPane.rowIndex="8"/>
                                <TextField fx:id="idIssuedByField" GridPane.rowIndex="8" GridPane.columnIndex="1"/>

                            </GridPane>
                            <!-- CRUD -->
                            <HBox spacing="10">
                                <Button fx:id="editButton" text="Edytuj"/>
                                <Button fx:id="saveButton" text="Zapisz" disable="true"/>
                                <Button fx:id="deleteButton" text="Usuń" disable="true"/>
                            </HBox>

                        </VBox>

                        <!-- PRAWA: 3 PRZYCISKI -->
                        <VBox spacing="15" alignment="TOP_CENTER" style="-fx-padding: 40 0 0 0;">

                            <Button fx:id="rentTrailerButton"
                                    text="Wybierz przyczepę" prefWidth="180" disable="true"/>

                            <Button fx:id="generateContractButton"
                                    text="Generuj umowę" prefWidth="180"/>

                            <Button fx:id="historyButton"
                                    text="Historia umów" prefWidth="180" disable="true"/>
                            <Button fx:id="lastTenRentalsButton" text="Ostatnie wynajęte" prefWidth="180"/>

                        </VBox>
                    </HBox>
                </VBox>
            </ScrollPane>

            <!-- ===== DÓŁ (wybrana przyczepa + odbiór/zwrot) ===== -->
            <VBox fx:id="trailerInfoBox" spacing="4" visible="false" style="-fx-padding: 10 0 10 20;">

                <Label text="Wybrana przyczepa:" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>

                <Label fx:id="selectedTrailerLabel"
                       style="-fx-font-size: 13px;"/>
            </VBox>
        </SplitPane>

    </center>


    <!-- ===== PRAWA STRONA ===== -->
    <right>
        <SplitPane orientation="VERTICAL"
                   prefWidth="520"
                   dividerPositions="0.65">

            <!-- ===== GÓRA ===== -->
            <StackPane fx:id="rightPanel"
                       style="-fx-border-color: #ddd; -fx-border-width: 1;">
                <Label text="Wybierz przyczepę"/>
            </StackPane>

            <!-- ===== DÓŁ ===== -->
            <VBox fx:id="bottomRightPane"
                  spacing="10"
                  style="-fx-border-color: #ddd; -fx-border-width: 1; -fx-padding: 10;">

                <!-- Pasek tytułu -->
                <HBox spacing="10"
                      alignment="CENTER_LEFT">

                    <Label text="Edycja danych przyczep"
                           style="-fx-font-size: 15px; -fx-font-weight: bold;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="editTrailerButton"
                            text="Edytuj"/>
                </HBox>

                <!-- TU BĘDZIE ŁADOWANY OSOBNY FXML -->
                <StackPane fx:id="trailerEditContainer"
                           VBox.vgrow="ALWAYS"
                           visible="false"
                           managed="false"/>

            </VBox>
        </SplitPane>
    </right>
</BorderPane>